<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Tebak Unsur Kimia Golongan A</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #333;
        }

        .container {
            width: 100%;
            max-width: 500px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 30px;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 700;
            color: #5a67d8;
            margin-bottom: 10px;
        }

        .header p {
            color: #718096;
            font-size: 16px;
        }

        .game-area {
            margin-bottom: 25px;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .stat-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            flex: 1;
            margin: 0 5px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 22px;
            font-weight: 700;
        }

        .element-display {
            background: white;
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .element-symbol {
            font-size: 64px;
            font-weight: 700;
            color: #5a67d8;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .element-question {
            font-size: 18px;
            color: #718096;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .answer-input {
            width: 100%;
            padding: 16px 20px;
            font-size: 18px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            outline: none;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .answer-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .feedback {
            padding: 12px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .feedback.show {
            opacity: 1;
            transform: translateY(0);
        }

        .feedback.correct {
            background: #c6f6d5;
            color: #22543d;
        }

        .feedback.incorrect {
            background: #fed7d7;
            color: #742a2a;
        }

        .setup-area {
            margin-bottom: 25px;
        }

        .timer-input-group {
            display: flex;
            margin-bottom: 20px;
        }

        .timer-input {
            flex: 1;
            padding: 16px;
            font-size: 18px;
            border: 2px solid #e2e8f0;
            border-radius: 12px 0 0 12px;
            outline: none;
            transition: all 0.3s ease;
        }

        .timer-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .timer-unit {
            padding: 16px;
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-left: none;
            border-radius: 0 12px 12px 0;
            display: flex;
            align-items: center;
            color: #718096;
        }

        .btn {
            padding: 16px 24px;
            font-size: 18px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            width: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .game-over {
            background: white;
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
            display: none;
        }

        .game-over.show {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .game-over h2 {
            font-size: 24px;
            color: #5a67d8;
            margin-bottom: 20px;
        }

        .result-stats {
            margin-bottom: 25px;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            color: #718096;
        }

        .result-value {
            font-weight: 600;
            color: #333;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }

            .header h1 {
                font-size: 24px;
            }

            .element-symbol {
                font-size: 48px;
            }

            .stats {
                flex-direction: column;
            }

            .stat-item {
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Game Tebak Unsur Kimia</h1>
            <p>Tebak nama dan golongan unsur kimia Golongan A</p>
        </div>

        <div class="setup-area" id="setupArea">
            <div class="timer-input-group">
                <input type="number" id="timerInput" class="timer-input" min="10" max="600" value="60" placeholder="Waktu">
                <div class="timer-unit">detik</div>
            </div>
            <button id="startBtn" class="btn btn-primary">MULAI GAME</button>
        </div>

        <div class="game-area hidden" id="gameArea">
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-label">Skor</div>
                    <div class="stat-value" id="score">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Waktu</div>
                    <div class="stat-value" id="timer">60</div>
                </div>
            </div>

            <div class="element-display">
                <div class="element-symbol" id="elementSymbol">-</div>
                <div class="element-question">Apa nama dan golongan unsur ini?</div>
            </div>

            <div class="feedback" id="feedback"></div>

            <div class="input-group">
                <input type="text" id="answerInput" class="answer-input" placeholder="Contoh: Hidrogen 1" autocomplete="off">
            </div>
        </div>

        <div class="game-over" id="gameOver">
            <h2>Game Selesai!</h2>
            <div class="result-stats">
                <div class="result-item">
                    <span class="result-label">Jawaban Benar</span>
                    <span class="result-value" id="correctAnswers">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Soal</span>
                    <span class="result-value" id="totalQuestions">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Akurasi</span>
                    <span class="result-value" id="accuracy">0%</span>
                </div>
            </div>
            <button id="playAgainBtn" class="btn btn-primary">MAIN LAGI</button>
        </div>
    </div>

    <script>
        // Data unsur kimia
        const elements = {
            1: [
                { symbol: 'H', names: ['hidrogen', 'hydrogen'] },
                { symbol: 'Li', names: ['litium', 'lithium'] },
                { symbol: 'Na', names: ['natrium', 'sodium'] },
                { symbol: 'K', names: ['kalium', 'potassium'] },
                { symbol: 'Rb', names: ['rubidium'] },
                { symbol: 'Cs', names: ['sesium', 'cesium'] },
                { symbol: 'Fr', names: ['fransium', 'francium'] }
            ],
            2: [
                { symbol: 'Be', names: ['berilium', 'beryllium'] },
                { symbol: 'Mg', names: ['magnesium'] },
                { symbol: 'Ca', names: ['kalsium', 'calcium'] },
                { symbol: 'Sr', names: ['stronsium', 'strontium'] },
                { symbol: 'Ba', names: ['barium'] },
                { symbol: 'Ra', names: ['radium'] }
            ],
            13: [
                { symbol: 'B', names: ['boron', 'bor'] },
                { symbol: 'Al', names: ['aluminium', 'aluminum'] },
                { symbol: 'Ga', names: ['galium', 'gallium'] },
                { symbol: 'In', names: ['indium'] },
                { symbol: 'Tl', names: ['talium', 'thallium'] },
                { symbol: 'Nh', names: ['nihonium'] }
            ],
            14: [
                { symbol: 'C', names: ['karbon', 'carbon'] },
                { symbol: 'Si', names: ['silikon', 'silicon'] },
                { symbol: 'Ge', names: ['germanium'] },
                { symbol: 'Sn', names: ['timah', 'tin', 'stannum'] },
                { symbol: 'Pb', names: ['timbal', 'plumbum', 'lead'] },
                { symbol: 'Fl', names: ['flerovium'] }
            ],
            15: [
                { symbol: 'N', names: ['nitrogen'] },
                { symbol: 'P', names: ['fosfor', 'phosphorus'] },
                { symbol: 'As', names: ['arsenik', 'arsenic', 'arsen'] },
                { symbol: 'Sb', names: ['antimon', 'antimony'] },
                { symbol: 'Bi', names: ['bismuth', 'bismut'] },
                { symbol: 'Mc', names: ['moscovium'] }
            ],
            16: [
                { symbol: 'O', names: ['oksigen', 'oxygen'] },
                { symbol: 'S', names: ['belerang', 'sulfur'] },
                { symbol: 'Se', names: ['selenium'] },
                { symbol: 'Te', names: ['telurium', 'tellurium'] },
                { symbol: 'Po', names: ['polonium'] },
                { symbol: 'Lv', names: ['livermorium'] }
            ],
            17: [
                { symbol: 'F', names: ['fluor', 'fluorine', 'florin'] },
                { symbol: 'Cl', names: ['klor', 'klorin', 'chlorine'] },
                { symbol: 'Br', names: ['brom', 'bromine', 'bromin'] },
                { symbol: 'I', names: ['iodin', 'iodine'] },
                { symbol: 'At', names: ['astatin', 'astatine'] },
                { symbol: 'Ts', names: ['tennessin', 'tennessine', 'tenesin'] }
            ],
            18: [
                { symbol: 'He', names: ['helium'] },
                { symbol: 'Ne', names: ['neon'] },
                { symbol: 'Ar', names: ['argon'] },
                { symbol: 'Kr', names: ['kripton', 'krypton'] },
                { symbol: 'Xe', names: ['xenon'] },
                { symbol: 'Rn', names: ['radon'] },
                { symbol: 'Og', names: ['oganesson', 'oganeson'] }
            ]
        };

        // Flatten the elements data for easier access
        const allElements = [];
        Object.keys(elements).forEach(group => {
            elements[group].forEach(element => {
                allElements.push({
                    symbol: element.symbol,
                    names: element.names,
                    group: group
                });
            });
        });

        // Game state
        let gameState = {
            isPlaying: false,
            score: 0,
            totalQuestions: 0,
            correctAnswers: 0,
            currentElement: null,
            timeLeft: 60,
            timerInterval: null
        };

        // DOM elements
        const setupArea = document.getElementById('setupArea');
        const gameArea = document.getElementById('gameArea');
        const gameOver = document.getElementById('gameOver');
        const timerInput = document.getElementById('timerInput');
        const startBtn = document.getElementById('startBtn');
        const elementSymbol = document.getElementById('elementSymbol');
        const answerInput = document.getElementById('answerInput');
        const feedback = document.getElementById('feedback');
        const scoreDisplay = document.getElementById('score');
        const timerDisplay = document.getElementById('timer');
        const playAgainBtn = document.getElementById('playAgainBtn');
        const correctAnswersDisplay = document.getElementById('correctAnswers');
        const totalQuestionsDisplay = document.getElementById('totalQuestions');
        const accuracyDisplay = document.getElementById('accuracy');

        // Event listeners
        startBtn.addEventListener('click', startGame);
        answerInput.addEventListener('keydown', handleAnswer);
        playAgainBtn.addEventListener('click', resetGame);

        // Functions
        function startGame() {
            const timeLimit = parseInt(timerInput.value);
            
            if (isNaN(timeLimit) || timeLimit < 10) {
                showFeedback('Masukkan waktu minimal 10 detik', false);
                return;
            }
            
            gameState.timeLeft = timeLimit;
            gameState.isPlaying = true;
            gameState.score = 0;
            gameState.totalQuestions = 0;
            gameState.correctAnswers = 0;
            
            setupArea.classList.add('hidden');
            gameArea.classList.remove('hidden');
            gameOver.classList.remove('show');
            
            updateDisplay();
            selectRandomElement();
            startTimer();
            
            answerInput.focus();
        }

        function startTimer() {
            if (gameState.timerInterval) {
                clearInterval(gameState.timerInterval);
            }
            
            gameState.timerInterval = setInterval(() => {
                gameState.timeLeft--;
                timerDisplay.textContent = gameState.timeLeft;
                
                if (gameState.timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function endGame() {
            clearInterval(gameState.timerInterval);
            gameState.isPlaying = false;
            
            gameArea.classList.add('hidden');
            gameOver.classList.add('show');
            
            correctAnswersDisplay.textContent = gameState.correctAnswers;
            totalQuestionsDisplay.textContent = gameState.totalQuestions;
            
            const accuracy = gameState.totalQuestions > 0 
                ? Math.round((gameState.correctAnswers / gameState.totalQuestions) * 100) 
                : 0;
            accuracyDisplay.textContent = `${accuracy}%`;
        }

        function resetGame() {
            gameOver.classList.remove('show');
            setupArea.classList.remove('hidden');
            answerInput.value = '';
            feedback.classList.remove('show');
        }

        function selectRandomElement() {
            const randomIndex = Math.floor(Math.random() * allElements.length);
            gameState.currentElement = allElements[randomIndex];
            elementSymbol.textContent = gameState.currentElement.symbol;
        }

        function handleAnswer(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        }

        function checkAnswer() {
            const answer = answerInput.value.trim();
            
            if (!answer) {
                showFeedback('Masukkan jawaban terlebih dahulu', false);
                return;
            }
            
            gameState.totalQuestions++;
            
            // Parse the answer to extract name and group
            const { name, group } = parseAnswer(answer);
            
            // Check if the name is correct
            const nameCorrect = gameState.currentElement.names.some(
                n => n.toLowerCase() === name.toLowerCase()
            );
            
            // Check if the group is correct
            const groupCorrect = group.toLowerCase() === gameState.currentElement.group.toLowerCase();
            
            if (nameCorrect && groupCorrect) {
                gameState.score++;
                gameState.correctAnswers++;
                showFeedback('BENAR! ðŸŽ‰', true);
                updateDisplay();
                
                // Select a new element after a short delay
                setTimeout(() => {
                    selectRandomElement();
                    answerInput.value = '';
                    feedback.classList.remove('show');
                }, 1000);
            } else {
                let message = 'SALAH! ';
                if (!nameCorrect && !groupCorrect) {
                    message += 'Nama dan golongan salah.';
                } else if (!nameCorrect) {
                    message += 'Nama unsur salah.';
                } else {
                    message += 'Golongan salah.';
                }
                showFeedback(message, false);
                
                // Select a new element after a short delay
                setTimeout(() => {
                    selectRandomElement();
                    answerInput.value = '';
                    feedback.classList.remove('show');
                }, 2000);
            }
        }

        function parseAnswer(answer) {
            // Remove extra spaces and split by space
            const parts = answer.trim().split(/\s+/);
            
            // Try to find the group in the parts
            let group = '';
            let nameParts = [];
            
            for (let i = 0; i < parts.length; i++) {
                if (parts[i].match(/^[IVX]+A?$/)) {
                    group = parts[i];
                    nameParts = parts.slice(0, i);
                    break;
                }
            }
            
            // If no group found, assume the last part is the group
            if (!group && parts.length > 1) {
                group = parts[parts.length - 1];
                nameParts = parts.slice(0, -1);
            } else if (!group) {
                nameParts = parts;
            }
            
            // Join the name parts
            const name = nameParts.join(' ');
            
            return { name, group };
        }

        function showFeedback(message, isCorrect) {
            feedback.textContent = message;
            feedback.className = 'feedback show ' + (isCorrect ? 'correct' : 'incorrect');
        }

        function updateDisplay() {
            scoreDisplay.textContent = gameState.score;
            timerDisplay.textContent = gameState.timeLeft;
        }

        // Initialize the game
        document.addEventListener('DOMContentLoaded', () => {
            timerInput.focus();
        });
    </script>
</body>
</html>
